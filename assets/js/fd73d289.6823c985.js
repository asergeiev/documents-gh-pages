"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3284],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),l=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return o.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(n),d=a,f=m["".concat(c,".").concat(d)]||m[d]||u[d]||r;return n?o.createElement(f,i(i({ref:t},p),{},{components:n})):o.createElement(f,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8326:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return p},default:function(){return m}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],s={id:"how-to-use",title:"How to use CompreFace",sidebar_label:"How to use CompreFace"},c="How to Use CompreFace",l={unversionedId:"how-to-use",id:"how-to-use",isDocsHomePage:!1,title:"How to use CompreFace",description:"Step 1. Install and run CompreFace using our [Getting Started",source:"@site/docs/How-to-Use-CompreFace.md",sourceDirName:".",slug:"/how-to-use",permalink:"/documents/docs/how-to-use",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/How-to-Use-CompreFace.md",tags:[],version:"current",frontMatter:{id:"how-to-use",title:"How to use CompreFace",sidebar_label:"How to use CompreFace"},sidebar:"someSidebar",previous:{title:"Introduction",permalink:"/documents/docs/"},next:{title:"Face Services and Plugins",permalink:"/documents/docs/face-services-and-plugins"}},p=[{value:"Demos",id:"demos",children:[],level:2},{value:"Code Snippets",id:"code-snippets",children:[],level:2}],u={toc:p};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to-use-compreface"},"How to Use CompreFace"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1.")," Install and run CompreFace using our ",(0,r.kt)("a",{parentName:"p",href:"/documents/docs/#getting-started-with-compreface"},"Getting Started\nguide")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2.")," You need to sign up for the system and login into the\naccount you've just created or use the one you already have. After\nthat, the system redirects you to the main page."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3."),' Create an application (left section) using the "Create"\nlink at the bottom of the page. An application is where you can create\nand manage your Face Collections.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 4.")," Enter your application by clicking on its name. Here, you\nhave two options: adding new users and managing their access roles or\ncreating new ",(0,r.kt)("a",{parentName:"p",href:"/documents/docs/face-services-and-plugins"},"Face Services"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 5.")," To recognize subjects among the known subjects, you need to\ncreate a Face Recognition Service. After creating a new Face Service,\nyou can see it in the Services List with an appropriate name and API\nkey. After this step, you can look at our ",(0,r.kt)("a",{parentName:"p",href:"#demos"},"demos"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 6.")," To add known subjects to your Face Collection of Face\nRecognition Service, you can use REST API. Once you've ",(0,r.kt)("a",{parentName:"p",href:"/documents/docs/rest-api-description#add-an-example-of-a-subject"},"uploaded all\nknown faces"),", you\ncan test the collection using ",(0,r.kt)("a",{parentName:"p",href:"/documents/docs/rest-api-description#recognize-faces-from-a-given-image"},"REST\nAPI")," or the\nTEST page. We recommend using an image size no higher than 5MB, as it\ncould slow down the request process. The supported image formats include\nJPEG/PNG/JPG/ICO/BMP/GIF/TIF/TIFF."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 7.")," Upload your photo and let our open-source face recognition\nsystem match the image against the Face Collection. Using a UI for face\nrecognition, you can see the original picture with marks near every\nface. Using ",(0,r.kt)("a",{parentName:"p",href:"/documents/docs/rest-api-description#recognize-faces-from-a-given-image"},"REST\nAPI"),", you\nreceive a response in JSON format."),(0,r.kt)("p",null,"JSON contains an array of objects that represent each recognized face.\nEach object has the following fields:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"subject")," - person identifier"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"similarity")," - gives a confidence that this is the found subject"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"probability")," - gives the confidence that this is a face"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"x_min"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"x_max"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"y_min"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"y_max")," are coordinates of the face in\nthe image")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'\n    {\n      "result": [\n        {\n          "box": {\n            "probability": 0.99583,\n            "x_max": 551,\n            "y_max": 364,\n            "x_min": 319,\n            "y_min": 55\n          },\n          "subjects": [\n            {\n              "similarity": 0.99593,\n              "subject": "lisan"\n            }\n          ]\n        },\n        {\n          \n        }\n      ]\n    }\n')),(0,r.kt)("h2",{id:"demos"},"Demos"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"[tutorial_demo.html]")),(0,r.kt)("p",null,"This demo shows the most simple example of Face recognition service\nusage. To run a demo, open an HTML file in a browser. API key for this\ndemo was created on ",(0,r.kt)("strong",{parentName:"p"},"step 5")," of ",(0,r.kt)("a",{parentName:"p",href:"#how-to-use-compreface"},"How to Use\nCompreFace")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"[webcam_demo.html]")),(0,r.kt)("p",null,"This demo shows the most simple webcam demo for Face recognition\nservice. To run a demo, open an HTML file in a browser. API key for this\ndemo was created on ",(0,r.kt)("strong",{parentName:"p"},"step 5")," of ",(0,r.kt)("a",{parentName:"p",href:"#how-to-use-compreface"},"How to Use\nCompreFace")),(0,r.kt)("h2",{id:"code-snippets"},"Code Snippets"),(0,r.kt)("p",null,"Here is a JavaScript code snippet that loads a new image to your Face\nCollection:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'    function saveNewImageToFaceCollection(elem) {\n        let subject = encodeURIComponent(document.getElementById("subject").value);\n        let apiKey = document.getElementById("apiKey").value;\n        let formData = new FormData();\n        let photo = elem.files[0];\n\n        formData.append("file", photo);\n\n        fetch(\'http://localhost:8000/api/v1/recognition/faces/?subject=\' + subject,\n            {\n                method: "POST",\n                headers: {\n                    "x-api-key": apiKey\n                },\n                body: formData\n            }\n        ).then(r => r.json()).then(\n            function (data) {\n                console.log(\'New example was saved\', data);\n            })\n            .catch(function (error) {\n                alert(\'Request failed: \' + JSON.stringify(error));\n            });\n    }\n')),(0,r.kt)("p",null,"This function sends the image to our server and shows results in a text\narea:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'    function recognizeFace(elem) {\n        let apiKey = document.getElementById("apiKey").value;\n        let formData = new FormData();\n        let photo = elem.files[0];\n\n        formData.append("file", photo);\n\n        fetch(\'http://localhost:8000/api/v1/recognition/recognize\',\n            {\n                method: "POST",\n                headers: {\n                    "x-api-key": apiKey\n                },\n                body: formData\n            }\n        ).then(r => r.json()).then(\n            function (data) {\n                document.getElementById("result").innerHTML = JSON.stringify(data);\n            })\n            .catch(function (error) {\n                alert(\'Request failed: \' + JSON.stringify(error));\n            });\n    }\n')))}m.isMDXComponent=!0}}]);